<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FedEx | Ship, Track & Manage</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EðŸšš%3C/text%3E%3C/svg%3E">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --purple: #4D148C;
      --orange: #FF6200;
      --grey: #5D5D5D;
      --light: #F5F5F5;
    }
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Inter', sans-serif;
      background: #fff;
      color: var(--grey);
      line-height: 1.6;
      scroll-behavior: smooth;
    }
    a { text-decoration: none; color: inherit; }
    ul { list-style: none; }
    button { cursor: pointer; font-family: inherit; border: none; }
    .btn {
      padding: 0.75rem 1.25rem;
      border-radius: 6px;
      font-weight: 600;
      font-size: 0.9rem;
      transition: all 0.2s;
    }
    .btn-primary { background: var(--purple); color: #fff; }
    .btn-primary:hover { background: #3a0b6e; }
    .btn-secondary { background: transparent; color: var(--purple); border: 2px solid var(--purple); }
    .btn-secondary:hover { background: var(--purple); color: #fff; }
    header {
      background: var(--light);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    header nav ul { display: flex; gap: 1.5rem; flex-wrap: wrap; }
    section { padding: 4rem 2rem; }
    .section-title { text-align: center; font-size: 2rem; margin-bottom: 1rem; color: var(--purple); }
    .footer { background: #eee; padding: 2rem; text-align: center; font-size: 0.9rem; }
    .services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 2rem; margin-top: 2rem; }
    .service-card { background: #fff; padding: 1.5rem; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }

    /* Custom styles for interactive components */
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      background-color: rgba(0,0,0,0.5);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }
    .modal.active { display: flex; }
    .modal-content {
      background: #fff;
      border-radius: 8px;
      padding: 2rem;
      width: 100%;
      max-width: 500px;
      animation: fadeIn 0.3s ease-out;
    }
    .tracking-modal-content { max-width: 700px; }
    @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    
    .notification { position: fixed; top: 20px; right: 20px; padding: 1rem 1.5rem; border-radius: 8px; color: white; font-weight: 600; z-index: 10001; animation: slideInRight 0.5s ease-out; }
    .notification.success { background: #28a745; }
    .notification.error { background: #dc3545; }
    @keyframes slideInRight { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); } }

    #admin-dashboard {
      display: none;
      position: fixed;
      inset: 0;
      background-color: var(--light);
      z-index: 9999;
      overflow-y: auto;
      padding: 2rem;
    }
    .admin-nav-button { padding: 0.5rem 1rem; border-radius: 6px; font-weight: 600; cursor: pointer; }
    .admin-nav-button.active { background-color: var(--purple); color: white; }
    .admin-form-section { display: none; margin-top: 2rem; }
    .admin-form-section.active { display: block; }
    .admin-input { width: 100%; padding: 0.75rem; border: 1px solid #ccc; border-radius: 6px; }
    .admin-table { width: 100%; border-collapse: collapse; background: #fff; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
    .admin-table th, .admin-table td { padding: 0.75rem; border-bottom: 1px solid #eee; text-align: left; }
  </style>
</head>
<body>
  <header>
    <div id="fedex-logo" style="font-size: 1.5rem; font-weight: bold; color: var(--purple); cursor: pointer;">FedEx</div>
    <nav>
      <ul>
        <li><a href="#track">Track</a></li>
        <li><a href="#services">Services</a></li>
        <li><a href="#support">Support</a></li>
      </ul>
    </nav>
    <div>
      <button class="btn btn-secondary">Sign In</button>
      <button class="btn btn-primary">Register</button>
    </div>
  </header>

  <section style="background: var(--light); text-align: center;">
    <h1 style="font-size: 2.5rem; margin-bottom: 1rem; color: var(--purple);">Ship, Track & Manage Deliveries</h1>
    <p style="font-size: 1rem; margin-bottom: 2rem;">FedEx delivers the future of logistics, right to your door.</p>
    <a href="#track" class="btn btn-primary">Track a Package</a>
  </section>

  <section id="track">
    <h2 class="section-title">Track Your Shipment</h2>
    <form id="tracking-form" style="max-width: 600px; margin: 0 auto; text-align: center;">
      <input type="text" id="tracking-number-input" placeholder="Enter tracking number" style="width: 70%; padding: 0.75rem; border: 1px solid #ccc; border-radius: 6px; margin-bottom: 1rem;">
      <br>
      <button type="submit" class="btn btn-primary">Track</button>
    </form>
  </section>

  <section id="services">
    <h2 class="section-title">Our Services</h2>
    <div class="services-grid">
      <div class="service-card">
        <h3>Express Delivery</h3>
        <p>Fast and reliable shipping around the world, right on time.</p>
      </div>
      <div class="service-card">
        <h3>Freight Solutions</h3>
        <p>Heavy goods and bulk shipment services across regions.</p>
      </div>
      <div class="service-card">
        <h3>eCommerce Integration</h3>
        <p>Seamless shipping integration for online businesses.</p>
      </div>
    </div>
  </section>

  <section id="support">
    <h2 class="section-title">Need Help?</h2>
    <p style="text-align: center;">Visit our <a href="#" style="color: var(--purple); text-decoration: underline;">Help Center</a> or contact <a href="#" style="color: var(--purple); text-decoration: underline;">Customer Support</a>.</p>
  </section>

  <footer class="footer">
    <p>Â© 2025 FedEx Corporation. All rights reserved.</p>
  </footer>

  <!-- MODALS & ADMIN DASHBOARD (Initially Hidden) -->

  <!-- Tracking Modal -->
  <div id="tracking-modal" class="modal">
    <div class="modal-content tracking-modal-content">
        <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 1rem; margin-bottom: 1.5rem;">
            <h2 id="modal-tracking-number" style="font-size: 1.5rem; color: var(--purple);"></h2>
            <button id="close-tracking-modal" style="background: none; border: none; font-size: 1.5rem;">Ã—</button>
        </div>
        <div id="modal-content-body"></div>
    </div>
  </div>

  <!-- Admin Login Modal -->
  <div id="admin-login-modal" class="modal">
    <div class="modal-content">
        <h2 class="section-title" style="margin-bottom: 2rem;">Admin Login</h2>
        <form id="admin-login-form" style="display: flex; flex-direction: column; gap: 1rem;">
            <div>
                <label for="admin-username" style="font-weight: 600;">Username</label>
                <input type="text" id="admin-username" class="admin-input" style="margin-top: 0.25rem;" required>
            </div>
            <div>
                <label for="admin-password" style="font-weight: 600;">Password</label>
                <input type="password" id="admin-password" class="admin-input" style="margin-top: 0.25rem;" required>
            </div>
            <p id="login-error-msg" style="color: #dc3545; font-size: 0.9rem; display: none;">Invalid credentials.</p>
            <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                 <button type="button" id="cancel-login-btn" class="btn btn-secondary" style="flex: 1;">Cancel</button>
                <button type="submit" class="btn btn-primary" style="flex: 1;">Login</button>
            </div>
        </form>
    </div>
  </div>

  <!-- ADMIN DASHBOARD -->
  <div id="admin-dashboard">
    <div style="max-width: 1200px; margin: auto;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
            <h1 style="font-size: 2rem; color: var(--purple);">Admin Dashboard</h1>
            <button id="close-admin-btn" style="background: none; font-size: 2rem;">Ã—</button>
        </div>
        <div style="display: flex; gap: 0.5rem; margin-bottom: 2rem; border-bottom: 1px solid #ccc;">
            <button id="admin-nav-shipments" class="admin-nav-button active" onclick="showAdminSection('admin-shipments-section')">Shipments</button>
            <button id="admin-nav-security" class="admin-nav-button" onclick="showAdminSection('admin-security-section')">Security</button>
        </div>
        <div id="admin-shipments-section" class="admin-form-section active"></div>
        <div id="admin-security-section" class="admin-form-section">
             <div style="background: #fff; padding: 2rem; border-radius: 8px; max-width: 500px; margin: auto;">
                <form id="password-change-form" style="display: flex; flex-direction: column; gap: 1rem;">
                    <h2 style="font-size: 1.5rem; color: #333; margin-bottom: 1rem;">Change Password</h2>
                    <div><label for="current-password" style="font-weight: 600;">Current Password</label><input type="password" id="current-password" class="admin-input" style="margin-top: 0.25rem;" required></div>
                    <div><label for="new-password" style="font-weight: 600;">New Password</label><input type="password" id="new-password" class="admin-input" style="margin-top: 0.25rem;" required></div>
                    <div><label for="confirm-password" style="font-weight: 600;">Confirm New Password</label><input type="password" id="confirm-password" class="admin-input" style="margin-top: 0.25rem;" required></div>
                    <button type="submit" class="btn btn-primary" style="margin-top: 1rem;">Update Password</button>
                </form>
            </div>
        </div>
    </div>
  </div>

  <script>
    // --- APPLICATION STATE & DATABASE ---
    const AppState = {
        adminCredentials: { username: 'admin', password: 'admin111' },
        logoClickCount: 0,
        logoClickTimer: null,
    };

    const trackingDatabase = {
      'FD123456789': {
        trackingNumber: 'FD123456789', status: 'In Transit', progress: 60,
        sender: { city: 'New York, NY' }, recipient: { city: 'Los Angeles, CA' },
        timeline: [
          { status: 'Departed FedEx hub', location: 'CHICAGO, IL', date: 'Aug 2, 2025', time: '4:30 AM'},
          { status: 'Arrived at FedEx hub', location: 'CHICAGO, IL', date: 'Aug 2, 2025', time: '1:15 AM'},
          { status: 'In transit', location: 'NEWARK, NJ', date: 'Aug 1, 2025', time: '9:00 PM'},
          { status: 'Picked up', location: 'NEW YORK, NY', date: 'Aug 1, 2025', time: '5:45 PM'},
        ]
      },
       'FD987654321': {
        trackingNumber: 'FD987654321', status: 'Delivered', progress: 100,
        sender: { city: 'Miami, FL' }, recipient: { city: 'Seattle, WA' },
        timeline: [
          { status: 'Delivered', location: 'SEATTLE, WA', date: 'Aug 3, 2025', time: '1:20 PM'},
          { status: 'On FedEx vehicle for delivery', location: 'SEATTLE, WA', date: 'Aug 3, 2025', time: '8:05 AM'},
          { status: 'Arrived at FedEx hub', location: 'SEATTLE, WA', date: 'Aug 3, 2025', time: '5:50 AM'},
          { status: 'Departed FedEx hub', location: 'DALLAS, TX', date: 'Aug 2, 2025', time: '11:10 PM'},
        ]
      }
    };

    // --- UTILITY & CORE FUNCTIONS ---
    function showNotification(message, type = 'info') {
      const n = document.createElement('div');
      n.className = `notification ${type}`;
      n.textContent = message;
      document.body.appendChild(n);
      setTimeout(() => n.remove(), 4000);
    }
    
    // --- FRONTEND TRACKING ---
    function trackPackage(trackingNumber) {
      const data = trackingDatabase[trackingNumber.toUpperCase()];
      if (data) {
        displayTrackingModal(data);
        return true;
      }
      return false;
    }

    function displayTrackingModal(data) {
        data.timeline.forEach((event, index) => event.isLatest = (index === 0));
        document.getElementById('modal-tracking-number').textContent = `Tracking #${data.trackingNumber}`;
        document.getElementById('modal-content-body').innerHTML = `
            <div style="margin-bottom: 2rem; background: var(--light); padding: 1.5rem; border-radius: 8px;">
                <p style="font-size: 1.25rem; font-weight: 600; color: var(--purple);">${data.status}</p>
                <div style="width: 100%; background: #ddd; border-radius: 99px; height: 10px; margin-top: 1rem; overflow: hidden;">
                    <div style="width: ${data.progress}%; background: var(--orange); height: 100%;"></div>
                </div>
            </div>
            <div>
                <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: #333;">Travel History</h3>
                ${data.timeline.map(event => `
                    <div style="position: relative; padding-left: 2rem; padding-bottom: 1.5rem; border-left: 2px solid ${event.isLatest ? 'var(--orange)' : '#eee'};">
                        <div style="position: absolute; left: -9px; top: 4px; width: 16px; height: 16px; border-radius: 50%; background: ${event.isLatest ? 'var(--orange)' : '#ccc'};"></div>
                        <p style="font-weight: 600; color: #333;">${event.status}</p>
                        <p style="font-size: 0.9rem;">${event.location}</p>
                        <p style="font-size: 0.8rem; color: #777;">${event.date}, ${event.time}</p>
                    </div>`).join('')}
            </div>`;
        document.getElementById('tracking-modal').classList.add('active');
    }

    // --- ADMIN AUTH & SECURITY ---
    function handleLogoClick() {
        AppState.logoClickCount++;
        if (AppState.logoClickCount === 3) {
            document.getElementById('admin-login-modal').classList.add('active');
            document.getElementById('login-error-msg').style.display = 'none';
            document.getElementById('admin-login-form').reset();
        }
        clearTimeout(AppState.logoClickTimer);
        AppState.logoClickTimer = setTimeout(() => { AppState.logoClickCount = 0; }, 600);
    }
    
    function handleAdminLogin(e) {
        e.preventDefault();
        if (e.target.username.value === AppState.adminCredentials.username && e.target.password.value === AppState.adminCredentials.password) {
            document.getElementById('admin-login-modal').classList.remove('active');
            showAdminDashboard();
        } else {
            document.getElementById('login-error-msg').style.display = 'block';
        }
    }

    function handleChangePassword(e) {
        e.preventDefault();
        const form = e.target;
        const current = form['current-password'].value, newPass = form['new-password'].value;
        if (current !== AppState.adminCredentials.password) return showNotification('Current password is incorrect.', 'error');
        if (newPass !== form['confirm-password'].value) return showNotification('New passwords do not match.', 'error');
        AppState.adminCredentials.password = newPass;
        showNotification('Password updated successfully!', 'success');
        form.reset();
    }

    // --- ADMIN DASHBOARD UI & CRUD ---
    function showAdminDashboard() { document.getElementById('admin-dashboard').style.display = 'block'; showAdminSection('admin-shipments-section'); }
    function hideAdminDashboard() { document.getElementById('admin-dashboard').style.display = 'none'; }
    
    function showAdminSection(sectionId) {
        document.querySelectorAll('.admin-form-section').forEach(s => s.classList.remove('active'));
        document.getElementById(sectionId)?.classList.add('active');
        document.querySelectorAll('.admin-nav-button').forEach(b => b.classList.remove('active'));
        document.getElementById(`admin-nav-${sectionId.split('-')[1]}`)?.classList.add('active');
        if (sectionId === 'admin-shipments-section') renderAdminShipmentsView('table');
    }
    
    function renderAdminShipmentsView(view = 'table', trackingNumber = null) {
        const container = document.getElementById('admin-shipments-section');
        if (view === 'table') {
            container.innerHTML = `<div id="admin-table-view">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                    <h2 style="font-size: 1.5rem; font-weight: 600; color: #333;">All Shipments</h2>
                    <button onclick="renderAdminShipmentsView('form')" class="btn btn-primary"><i class="fas fa-plus" style="margin-right: 0.5rem;"></i>Create Shipment</button>
                </div>
                <div style="overflow-x: auto;"><table class="admin-table"><thead><tr><th>Tracking #</th><th>Status</th><th>From</th><th>To</th><th>Actions</th></tr></thead><tbody></tbody></table></div>
            </div>`;
            const tableBody = container.querySelector('tbody');
            Object.values(trackingDatabase).forEach(shipment => {
                const row = document.createElement('tr');
                row.innerHTML = `<td style="font-weight: 600;">${shipment.trackingNumber}</td><td>${shipment.status}</td><td>${shipment.sender.city}</td><td>${shipment.recipient.city}</td>
                <td style="display: flex; gap: 1rem; flex-wrap: wrap;">
                    <button style="color: var(--purple); font-weight: 600; background: none;" onclick="renderAdminShipmentsView('form', '${shipment.trackingNumber}')">Edit</button>
                    <button style="color: #dc3545; font-weight: 600; background: none;" onclick="deleteShipment('${shipment.trackingNumber}')">Delete</button>
                </td>`;
                tableBody.appendChild(row);
            });
        } else if (view === 'form') {
            const data = trackingNumber ? trackingDatabase[trackingNumber] : {};
            container.innerHTML = `<div id="admin-form-view" style="background: #fff; padding: 2rem; border-radius: 8px;">
                <h2 style="font-size: 1.5rem; font-weight: 600; color: #333; margin-bottom: 2rem;">${trackingNumber ? 'Edit' : 'Create'} Shipment</h2>
                <form id="shipment-form" style="display: flex; flex-direction: column; gap: 1rem;">
                    <input type="hidden" name="isEdit" value="${trackingNumber || ''}">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div><label style="font-weight: 600;">Tracking #</label><input type="text" name="trackingNumber" class="admin-input" style="margin-top: 0.25rem;" value="${data.trackingNumber || ''}" ${trackingNumber ? 'disabled' : ''}></div>
                        <div><label style="font-weight: 600;">Status</label><input type="text" name="status" class="admin-input" style="margin-top: 0.25rem;" value="${data.status || ''}"></div>
                        <div><label style="font-weight: 600;">Progress (%)</label><input type="number" name="progress" class="admin-input" style="margin-top: 0.25rem;" value="${data.progress || 0}"></div>
                        <div><label style="font-weight: 600;">Sender City</label><input type="text" name="senderCity" class="admin-input" style="margin-top: 0.25rem;" value="${data.sender?.city || ''}"></div>
                        <div><label style="font-weight: 600;">Recipient City</label><input type="text" name="recipientCity" class="admin-input" style="margin-top: 0.25rem;" value="${data.recipient?.city || ''}"></div>
                    </div>
                    <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                        <button type="button" onclick="renderAdminShipmentsView('table')" class="btn btn-secondary">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Shipment</button>
                    </div>
                </form>
            </div>`;
            container.querySelector('#shipment-form').addEventListener('submit', handleFormSubmit);
        }
    }
    
    function handleFormSubmit(e) {
        e.preventDefault();
        const form = e.target;
        const trackingNumber = (form.isEdit.value || form.trackingNumber.value).toUpperCase();
        if (!trackingNumber) return showNotification('Tracking number is required.', 'error');
        const isEdit = !!form.isEdit.value;
        const originalData = trackingDatabase[trackingNumber] || { sender:{}, recipient:{}, timeline:[] };
        
        if (!isEdit) {
            originalData.timeline.unshift({ status: 'Shipment Information Sent to FedEx', location: 'SYSTEM', date: new Date().toLocaleDateString('en-US', {month:'short', day:'numeric', year:'numeric'}), time: new Date().toLocaleTimeString('en-US', {hour:'2-digit', minute:'2-digit'}) });
        }

        trackingDatabase[trackingNumber] = {
            ...originalData,
            trackingNumber: trackingNumber,
            status: form.status.value,
            progress: form.progress.value,
            sender: { ...originalData.sender, city: form.senderCity.value },
            recipient: { ...originalData.recipient, city: form.recipientCity.value },
        };
        showNotification(`Shipment ${isEdit ? 'updated' : 'created'}!`, 'success');
        renderAdminShipmentsView('table');
    }
    
    function deleteShipment(trackingNumber) {
        if (confirm(`Are you sure you want to delete shipment ${trackingNumber}?`)) {
            delete trackingDatabase[trackingNumber];
            showNotification('Shipment deleted.', 'success');
            renderAdminShipmentsView('table');
        }
    }

    // --- EVENT LISTENERS SETUP ---
    document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('fedex-logo').addEventListener('click', handleLogoClick);
        document.getElementById('tracking-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const trackingNum = document.getElementById('tracking-number-input').value.trim();
            if (!trackingNum) return showNotification('Please enter a tracking number.', 'error');
            trackPackage(trackingNum) || showNotification('Tracking number not found.', 'error');
        });
        document.getElementById('close-tracking-modal').addEventListener('click', () => document.getElementById('tracking-modal').classList.remove('active'));
        document.getElementById('admin-login-form').addEventListener('submit', handleAdminLogin);
        document.getElementById('cancel-login-btn').addEventListener('click', () => document.getElementById('admin-login-modal').classList.remove('active'));
        document.getElementById('password-change-form').addEventListener('submit', handleChangePassword);
        document.getElementById('close-admin-btn').addEventListener('click', hideAdminDashboard);
    });
    
    // --- GLOBAL ACCESS FOR ONCLICK ---
    window.showAdminSection = showAdminSection; 
    window.renderAdminShipmentsView = renderAdminShipmentsView; 
    window.deleteShipment = deleteShipment;
  </script>

</body>
</html>
